<!doctype html>
<html lang="ja">
<head>
  <meta charset="utf-8" />
  <title>パート出勤簿（AI希望票 連動）</title>
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <header class="topbar">
    <h1>パート出勤簿</h1>
    <div id="holiday-status" class="muted">祝日データ：—</div>
  </header>

  <section class="row">
    <div class="card">
      <h2>スタッフ</h2>
      <div id="emp-tabs" class="tabs"></div>
      <div class="grid2">
        <label>氏名 <input id="emp-name" placeholder="山田 花子" /></label>
        <label>時給(円) <input id="emp-wage" type="number" inputmode="numeric" placeholder="1200" /></label>
      </div>
      <div class="btns">
        <button id="save-emp" class="primary">保存</button>
        <button id="add-emp">追加</button>
        <button id="del-emp" class="warn">削除</button>
        <button id="move-left">←</button>
        <button id="move-right">→</button>
        <button id="reset-data" class="ghost">全消去</button>
      </div>
      <div id="emp-msg" class="muted"></div>
    </div>

    <div class="card">
      <h2>表示月</h2>
      <div class="monthbar">
        <button id="prev-month">◀</button>
        <input id="month-picker" type="month" />
        <button id="next-month">▶</button>
        <label class="right">年集計 年
          <input id="year-picker" type="number" min="2000" max="2100" />
        </label>
      </div>
      <div class="muted small" id="proj-wrap">
        年収見込みモード：
        <select id="proj-mode">
          <option value="thismonth">今月×12</option>
          <option value="ytdavg">月平均×残り月</option>
        </select>
      </div>
    </div>
  </section>

  <section class="row">
    <div class="card">
      <h2>希望票（テキスト貼り付け）</h2>
      <textarea id="wish-text" rows="7" placeholder="例）扶養内希望。祝日は休み。平日中心で週3日、1日6h。15日と22日は休み、8日と29日は入れます。"></textarea>
      <div class="btns">
        <button id="wish-parse" class="primary">AI解析 → カレンダーに反映</button>
      </div>
      <div id="wish-summary" class="muted"></div>
      <div id="wish-preview" class="preview"></div>
    </div>
  </section>

  <section class="row">
    <div class="card full">
      <h2>出勤簿（カレンダー）</h2>
      <div id="calendar" class="calendar"></div>
    </div>
  </section>

  <section class="row">
    <div class="card">
      <h2>月次集計 & 年収見込み</h2>
      <div class="totals">
        <div>今月の合計時間：<strong id="sum-hours">0.00 h</strong></div>
        <div>今月の金額：<strong id="sum-wage">¥0</strong></div>
        <div>年収見込み：<strong id="proj-annual">¥0</strong></div>
      </div>
      <div class="bars">
        <div class="bar">
          <label>103万円</label>
          <progress id="bar-103" max="100" value="0"></progress>
          <span id="pct-103" class="pct">0%</span>
        </div>
        <div class="bar">
          <label>106万円</label>
          <progress id="bar-106" max="100" value="0"></progress>
          <span id="pct-106" class="pct">0%</span>
        </div>
        <div class="bar">
          <label>130万円</label>
          <progress id="bar-130" max="100" value="0"></progress>
          <span id="pct-130" class="pct">0%</span>
        </div>
        <div class="bar">
          <label>カスタムA</label>
          <input id="th-custom-a" type="number" placeholder="例 1200000" />
          <progress id="bar-custom-a" max="100" value="0"></progress>
          <span id="pct-custom-a" class="pct">0%</span>
        </div>
        <div class="bar">
          <label>カスタムB</label>
          <input id="th-custom-b" type="number" placeholder="例 900000" />
          <progress id="bar-custom-b" max="100" value="0"></progress>
          <span id="pct-custom-b" class="pct">0%</span>
        </div>
      </div>
      <div id="warn" class="warn"></div>
      <hr/>
      <div class="sim">
        <h3>扶養シミュレーター（上限 → 月上限時間）</h3>
        <div class="grid3">
          <label>上限選択
            <select id="cap-select">
              <option value="">未指定</option>
              <option value="1030000">103万円</option>
              <option value="1060000">106万円</option>
              <option value="1300000">130万円</option>
              <option value="custom">カスタム</option>
            </select>
          </label>
          <label>カスタム上限(円)
            <input id="cap-custom" type="number" placeholder="例 1200000" disabled />
          </label>
          <label>時給(自動)
            <input id="cap-wage" type="number" disabled />
          </label>
        </div>
        <div class="muted" id="sim-cap-summary">シミュレーター設定：—</div>
        <div>月あたり上限時間：<input id="cap-hours" readonly /></div>
      </div>
    </div>

    <div class="card">
      <h2>年間サマリー</h2>
      <div id="year-summary"></div>
    </div>
  </section>

  <script src="script.js"></script>
</body>
</html>
